@import '../../../../../../shared-styles/variables';

.session-Analyser-container {
	padding: 15px;
	max-width: 1200px;
	margin: 0 auto;
	// background: rgba($tibia-brown-dark, 0.4);
	backdrop-filter: blur(10px);
	border-radius: 12px;

	h2 {
		text-align: center;
		color: $tibia-brown-dark;
		margin-bottom: 30px;
		margin-top: 0;
	}

	.subtitle {
		text-align: center;
		color: $tibia-gold-light;
		margin-bottom: 30px;
		opacity: 0.9;
	}

	.input-section {
		margin-bottom: 20px;

		.full-width {
			width: 100%;
		}

		textarea {
			font-family: 'Courier New', monospace;
			font-size: 13px;
		}

		.action-buttons {
			display: flex;
			gap: 10px;
			margin-top: 10px;

			button {
				mat-icon {
					margin-right: 8px;
				}
			}
		}
	}

	.error-card {
		margin-bottom: 20px;
		background: rgba($error-red, 0.1);
		border-left: 4px solid $error-red;

		.error-message {
			display: flex;
			align-items: center;
			gap: 10px;
			color: $error-red;

			mat-icon {
				font-size: 24px;
				width: 24px;
				height: 24px;
			}
		}
	}

	.results-section {
		.tasks-card {
			margin-bottom: 20px;
			background: $tibia-gold;
			border: 2px solid $tibia-gold;
			box-shadow: 0 4px 12px rgba($tibia-gold, 0.2);
			text-align: center;
			width: 100%;

			mat-card-header {
				padding: 15px;
				display: block;

				mat-card-title {
					color: $tibia-brown-dark;
					font-size: 20px;
				}

				mat-card-subtitle {
					color: $gray-medium;
					margin-top: 5px;
				}
			}

			.looted-items-grid {
				display: grid;
				grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
				gap: 12px;

				.looted-item-card {
					display: flex;
					align-items: center;
					gap: 10px;
					padding: 10px;
					background: white;
					border-radius: 6px;
					border: 2px solid $success-green;
					transition: all 0.2s ease;

					&:hover {
						transform: translateY(-2px);
						box-shadow: 0 4px 8px rgba(0, 0, 0, 0.15);
					}

					.item-image {
						width: 48px;
						height: 48px;
						object-fit: contain;
						border-radius: 4px;
					}

					.item-info {
						flex: 1;

						strong {
							color: $tibia-brown-dark;
							font-size: 14px;
							display: block;
						}

						.quantity {
							color: $success-green;
							font-size: 12px;
							margin: 4px 0;
						}

						.task-name {
							color: $gray-medium;
							font-size: 11px;
							margin: 0;
							font-style: italic;
						}
						.item-price {
							color: $tibia-gold;
							font-size: 11px;
						}
					}
				}
			}

			.tasks-grid {
				display: grid;
				grid-template-columns: repeat(auto-fill, minmax(350px, 1fr));
				gap: 15px;

				.task-item {
					border: 2px solid transparent;
					transition: all 0.2s ease;

					&.monster-task {
						border-color: rgba($error-light, 0.3);
						background: rgba($error-light, 0.02);
					}

					&.item-task {
						border-color: rgba($success-green, 0.3);
						background: rgba($success-green, 0.02);
					}

					&:hover {
						transform: translateY(-2px);
						box-shadow: 0 4px 8px rgba(0, 0, 0, 0.15);
					}

					mat-card-header {
						background: none;
						padding: 0;
						margin: 0 0 10px 0;

						mat-card-title {
							font-size: 16px;
							font-weight: 600;
							color: $tibia-brown-dark;
						}

						mat-card-subtitle {
							margin-top: 5px;

							.difficulty {
								font-size: 14px;
							}
						}
					}

					mat-card-content {
						p {
							margin: 8px 0;
							font-size: 14px;
							color: $gray-dark;

							strong {
								color: $tibia-brown-dark;
								font-weight: 600;
							}

							&.notes {
								font-style: italic;
								color: $gray-medium;
								margin-top: 12px;
								padding-top: 12px;
								border-top: 1px solid $border-light;
							}
						}
					}
				}
			}
		}

		.no-tasks-card {
			text-align: center;
			padding: 40px;
			background: rgba($gray-light, 0.1);

			.no-tasks-message {
				display: flex;
				flex-direction: column;
				align-items: center;
				gap: 15px;

				mat-icon {
					font-size: 48px;
					width: 48px;
					height: 48px;
					color: $gray-medium;
				}

				p {
					margin: 0;
					color: $gray-dark;
					font-size: 16px;

					&.hint {
						font-size: 14px;
						color: $gray-medium;
					}
				}
			}
		}
	}
}

@media (max-width: 768px) {
	.session-Analyser-container {
		padding: 10px;

		.results-section .tasks-card .tasks-grid {
			grid-template-columns: 1fr;
		}

		.summary-section .session-info {
			grid-template-columns: 1fr;
		}
	}
}
